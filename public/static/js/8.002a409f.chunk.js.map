{"version":3,"sources":["js/components/Layout.js","assets/logo.svg","js/components/EmailRegister.js","js/pages/Register.js"],"names":["FooterLink","to","icon","title","selected","useLocation","pathname","routeToPreload","routes","find","route","path","onMouseEnter","undefined","component","preload","className","Layout","children","noFooter","alt","src","logo","module","exports","EmailRegister","history","useHistory","useState","email","setEmail","name","setName","error","setError","loading","setLoading","onEmailChange","useCallback","e","target","value","onNameChange","submitInfos","fetch","method","headers","body","JSON","stringify","then","response","json","postCredentials","data","push","onSubmit","preventDefault","type","onChange","placeholder","Loader","aria-label","Register"],"mappings":"mGAAA,4DAMMA,EAAa,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAExBC,EADWC,cACSC,WAAaL,EACjCM,EAAiBC,IAAOC,MAAK,SAAAC,GACjC,OAAOA,EAAMC,OAASV,KAGpBW,OAAeC,EAQnB,OANIN,IACFK,EAAe,WACbL,EAAeO,UAAUC,YAK3B,kBAAC,IAAD,CACEd,GAAIA,EACJW,aAAcA,EACdI,UAAS,uBAAkBZ,EAAW,WAAa,KAEnD,uBAAGY,UAAU,kBAAkBd,GAC/B,uBAAGc,UAAU,qBAAqBb,KA6BzBc,IAxBA,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC1B,OACE,oCACE,yBAAKH,UAAU,UACb,yBAAKI,IAAI,OAAOC,IAAKC,IAAMN,UAAU,kBAEvC,yBAAKA,UAAU,mBACdE,EACAC,EAAW,KACV,yBAAKH,UAAU,UACb,kBAAChB,EAAD,CAAYC,GAAG,IAAIC,KAAK,uBAAuBC,MAAM,WACrD,kBAACH,EAAD,CACEC,GAAG,SACHC,KAAK,2BACLC,MAAM,eAER,kBAACH,EAAD,CAAYC,GAAG,aAAaC,KAAK,iBAAiBC,MAAM,cACxD,kBAACH,EAAD,CAAYC,GAAG,QAAQC,KAAK,QAAQC,MAAM,kB,mBClDpDoB,EAAOC,QAAU,IAA0B,kC,yFCsF5BC,EArEO,WACpB,IAAMC,EAAUC,cADU,EAEAC,mBAAS,IAFT,mBAEnBC,EAFmB,KAEZC,EAFY,OAGFF,mBAAS,IAHP,mBAGnBG,EAHmB,KAGbC,EAHa,OAIAJ,mBAAS,IAJT,mBAInBK,EAJmB,KAIZC,EAJY,OAKIN,oBAAS,GALb,mBAKnBO,EALmB,KAKVC,EALU,KAOpBC,EAAgBC,uBAAY,SAAAC,GAAC,OAAIT,EAASS,EAAEC,OAAOC,SAAQ,IAC3DC,EAAeJ,uBAAY,SAAAC,GAAC,OAAIP,EAAQO,EAAEC,OAAOC,SAAQ,IAEzDE,EAAc,SAACd,EAAOE,GACrBF,GAAUE,GAMfK,GAAW,GACXF,EAAS,IA/BW,SAACL,EAAOE,GAC9B,OAAOa,MAAM,mBAAoB,CAC/BC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBlB,OACAF,YAEDqB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAsB3BC,CAAgBxB,EAAOE,GAAMmB,MAAK,SAAAI,GAC5BA,EAAKrB,MACPC,EAASoB,EAAKrB,OAEdP,EAAQ6B,KAAK,eAEfnB,GAAW,OAbXF,EACE,gFAgBN,OACE,0BACElB,UAAU,4BACVwC,SAAU,SAAAjB,GACRA,EAAEkB,iBACFd,EAAYd,EAAOE,KAGrB,2BACEf,UAAU,kBACVe,KAAK,OACL2B,KAAK,OACLjB,MAAOV,EACP4B,SAAUjB,EACVkB,YAAY,YAEd,2BACE5C,UAAU,kBACVe,KAAK,QACL2B,KAAK,QACLjB,MAAOZ,EACP8B,SAAUtB,EACVuB,YAAY,wBAEb3B,GAAS,yBAAKjB,UAAU,mBAAmBiB,GAC3CE,EACC,kBAAC0B,EAAA,EAAD,CAAQ7C,UAAU,mBAAmB8C,aAAW,YAEhD,4BACEJ,KAAK,SACL1C,UAAU,0BACV8C,aAAW,WAHb,gBCnDOC,UAnBE,WACf,OACE,kBAAC9C,EAAA,EAAD,CAAQE,UAAQ,GACd,yBAAKH,UAAU,uBACb,gEACoC,6BADpC,IAC2C,6BAD3C,8FAIE,6BAJF,yKASA,kBAAC,EAAD","file":"static/js/8.002a409f.chunk.js","sourcesContent":["import React from 'react'\nimport logo from '../../assets/logo.svg'\nimport { Link, useLocation } from 'react-router-dom'\n\nimport routes from '../routes'\n\nconst FooterLink = ({ to, icon, title }) => {\n  const location = useLocation()\n  const selected = location.pathname === to\n  const routeToPreload = routes.find(route => {\n    return route.path === to\n  })\n\n  let onMouseEnter = undefined\n\n  if (routeToPreload) {\n    onMouseEnter = () => {\n      routeToPreload.component.preload()\n    }\n  }\n\n  return (\n    <Link\n      to={to}\n      onMouseEnter={onMouseEnter}\n      className={`Footer--link ${selected ? 'selected' : ''}`}\n    >\n      <i className=\"material-icons\">{icon}</i>\n      <b className=\"Footer--linkTitle\">{title}</b>\n    </Link>\n  )\n}\n\nconst Layout = ({ children, noFooter }) => {\n  return (\n    <>\n      <div className=\"Header\">\n        <img alt=\"Logo\" src={logo} className=\"Header--logo\" />\n      </div>\n      <div className=\"Header--padder\" />\n      {children}\n      {noFooter ? null : (\n        <div className=\"Footer\">\n          <FooterLink to=\"/\" icon=\"assignment_turned_in\" title=\"Statut\" />\n          <FooterLink\n            to=\"/guest\"\n            icon=\"sentiment_very_satisfied\"\n            title=\"Invités\"\n          />\n          <FooterLink to=\"/transport\" icon=\"directions_car\" title=\"Transport\" />\n          <FooterLink to=\"/beds\" icon=\"hotel\" title=\"Sur Place\" />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Layout\n","module.exports = __webpack_public_path__ + \"static/media/logo.75a7e9e1.svg\";","import React, { useState, useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { SimpleLoader as Loader } from './Loader'\n\nconst postCredentials = (email, name) => {\n  return fetch('/users/temporary', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      name,\n      email\n    })\n  }).then(response => response.json())\n}\n\nconst EmailRegister = () => {\n  const history = useHistory()\n  const [email, setEmail] = useState('')\n  const [name, setName] = useState('')\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const onEmailChange = useCallback(e => setEmail(e.target.value), [])\n  const onNameChange = useCallback(e => setName(e.target.value), [])\n\n  const submitInfos = (email, name) => {\n    if (!email || !name) {\n      setError(\n        'Nous avons besoin de ton nom et de ton email pour planifier notre soirée'\n      )\n      return\n    }\n    setLoading(true)\n    setError('')\n    postCredentials(email, name).then(data => {\n      if (data.error) {\n        setError(data.error)\n      } else {\n        history.push('/registered')\n      }\n      setLoading(false)\n    })\n  }\n\n  return (\n    <form\n      className=\"Register--input-container\"\n      onSubmit={e => {\n        e.preventDefault()\n        submitInfos(email, name)\n      }}\n    >\n      <input\n        className=\"Register--input\"\n        name=\"name\"\n        type=\"text\"\n        value={name}\n        onChange={onNameChange}\n        placeholder=\"Ton nom\"\n      />\n      <input\n        className=\"Register--input\"\n        name=\"email\"\n        type=\"email\"\n        value={email}\n        onChange={onEmailChange}\n        placeholder=\"exemple@domaine.com\"\n      />\n      {error && <div className=\"Register--error\">{error}</div>}\n      {loading ? (\n        <Loader className=\"Register--loader\" aria-label=\"Loading\" />\n      ) : (\n        <button\n          type=\"submit\"\n          className=\"Button Register--submit\"\n          aria-label=\"Valider\"\n        >\n          Je viens !\n        </button>\n      )}\n    </form>\n  )\n}\n\nexport default EmailRegister\n","import React from 'react'\nimport Layout from '../components/Layout'\nimport EmailRegister from '../components/EmailRegister'\n\nconst Register = () => {\n  return (\n    <Layout noFooter>\n      <div className=\"Register--container\">\n        <p>\n          Ah ! En voila une bonne nouvelle !<br /> <br />\n          Laisse nous ton nom et ton email pour que nous puissions te créer un\n          compte sur le site.\n          <br />\n          Il te permettra de nous confirmer ta venue ainsi que celle de ton\n          entourage, réserver ta chambre au château et nous indiquer si tu as un\n          régime particulier.\n        </p>\n        <EmailRegister />\n      </div>\n    </Layout>\n  )\n}\n\nexport default Register\n"],"sourceRoot":""}