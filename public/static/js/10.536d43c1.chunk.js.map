{"version":3,"sources":["js/components/EmailRegister.js","js/pages/Register.js"],"names":["EmailRegister","history","useHistory","useState","email","setEmail","name","setName","error","setError","loading","setLoading","onEmailChange","useCallback","e","target","value","onNameChange","submitInfos","fetch","method","headers","body","JSON","stringify","then","response","json","postCredentials","data","push","className","onSubmit","preventDefault","type","onChange","placeholder","Loader","aria-label","Register"],"mappings":"sJAsFeA,EArEO,WACpB,IAAMC,EAAUC,cADU,EAEAC,mBAAS,IAFT,mBAEnBC,EAFmB,KAEZC,EAFY,OAGFF,mBAAS,IAHP,mBAGnBG,EAHmB,KAGbC,EAHa,OAIAJ,mBAAS,IAJT,mBAInBK,EAJmB,KAIZC,EAJY,OAKIN,oBAAS,GALb,mBAKnBO,EALmB,KAKVC,EALU,KAOpBC,EAAgBC,uBAAY,SAAAC,GAAC,OAAIT,EAASS,EAAEC,OAAOC,SAAQ,IAC3DC,EAAeJ,uBAAY,SAAAC,GAAC,OAAIP,EAAQO,EAAEC,OAAOC,SAAQ,IAEzDE,EAAc,SAACd,EAAOE,GACrBF,GAAUE,GAMfK,GAAW,GACXF,EAAS,IA/BW,SAACL,EAAOE,GAC9B,OAAOa,MAAM,mBAAoB,CAC/BC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBlB,OACAF,YAEDqB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAsB3BC,CAAgBxB,EAAOE,GAAMmB,MAAK,SAAAI,GAC5BA,EAAKrB,MACPC,EAASoB,EAAKrB,OAEdP,EAAQ6B,KAAK,eAEfnB,GAAW,OAbXF,EACE,gFAgBN,OACE,0BACEsB,UAAU,4BACVC,SAAU,SAAAlB,GACRA,EAAEmB,iBACFf,EAAYd,EAAOE,KAGrB,2BACEyB,UAAU,kBACVzB,KAAK,OACL4B,KAAK,OACLlB,MAAOV,EACP6B,SAAUlB,EACVmB,YAAY,YAEd,2BACEL,UAAU,kBACVzB,KAAK,QACL4B,KAAK,QACLlB,MAAOZ,EACP+B,SAAUvB,EACVwB,YAAY,wBAEb5B,GAAS,yBAAKuB,UAAU,mBAAmBvB,GAC3CE,EACC,kBAAC2B,EAAA,EAAD,CAAQN,UAAU,mBAAmBO,aAAW,YAEhD,4BACEJ,KAAK,SACLH,UAAU,0BACVO,aAAW,WAHb,gBCrDOC,UAlBE,WACf,OACE,yBAAKR,UAAU,uBACb,sMAKA,kBAAC,EAAD,MACA,yGAEE,6BAFF","file":"static/js/10.536d43c1.chunk.js","sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { SimpleLoader as Loader } from './Loader'\n\nconst postCredentials = (email, name) => {\n  return fetch('/users/temporary', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      name,\n      email\n    })\n  }).then(response => response.json())\n}\n\nconst EmailRegister = () => {\n  const history = useHistory()\n  const [email, setEmail] = useState('')\n  const [name, setName] = useState('')\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const onEmailChange = useCallback(e => setEmail(e.target.value), [])\n  const onNameChange = useCallback(e => setName(e.target.value), [])\n\n  const submitInfos = (email, name) => {\n    if (!email || !name) {\n      setError(\n        'Nous avons besoin de ton nom et de ton email pour planifier notre soirée'\n      )\n      return\n    }\n    setLoading(true)\n    setError('')\n    postCredentials(email, name).then(data => {\n      if (data.error) {\n        setError(data.error)\n      } else {\n        history.push('/registered')\n      }\n      setLoading(false)\n    })\n  }\n\n  return (\n    <form\n      className=\"Register--input-container\"\n      onSubmit={e => {\n        e.preventDefault()\n        submitInfos(email, name)\n      }}\n    >\n      <input\n        className=\"Register--input\"\n        name=\"name\"\n        type=\"text\"\n        value={name}\n        onChange={onNameChange}\n        placeholder=\"Ton nom\"\n      />\n      <input\n        className=\"Register--input\"\n        name=\"email\"\n        type=\"email\"\n        value={email}\n        onChange={onEmailChange}\n        placeholder=\"exemple@domaine.com\"\n      />\n      {error && <div className=\"Register--error\">{error}</div>}\n      {loading ? (\n        <Loader className=\"Register--loader\" aria-label=\"Loading\" />\n      ) : (\n        <button\n          type=\"submit\"\n          className=\"Button Register--submit\"\n          aria-label=\"Valider\"\n        >\n          Je viens !\n        </button>\n      )}\n    </form>\n  )\n}\n\nexport default EmailRegister\n","import React from 'react'\nimport EmailRegister from '../components/EmailRegister'\n\nconst Register = () => {\n  return (\n    <div className=\"Register--container\">\n      <p>\n        Hello, on sera super content de te voir en Septembre. Laisse nous une\n        adresse email pour confirmer ta venue, elle nous sera utile pour te\n        transmettre toutes les infos.\n      </p>\n      <EmailRegister />\n      <p>\n        Tu peux aussi nous confirmer ta venue par téléphone au XX.XX.XX.XX.XX\n        <br />\n        Ou par email à mariage@gmail.com\n      </p>\n    </div>\n  )\n}\n\nexport default Register\n"],"sourceRoot":""}