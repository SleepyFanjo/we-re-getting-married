{"version":3,"sources":["js/components/Link.js","js/components/Layout.js","assets/logo.svg","js/hooks/useCurrentUser.js","js/components/NextPageArrow.js","assets/arrow.svg","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","js/pages/Transport.js"],"names":["Link","to","icon","title","selected","useLocation","pathname","routeToPreload","routes","find","route","path","onMouseEnter","undefined","component","preload","className","Layout","children","noFooter","alt","src","logo","module","exports","useCurrentUser","useContext","JwtContext","jsonWebToken","user","setUser","history","useHistory","useState","loading","setLoading","useEffect","fetch","then","response","redirected","json","push","url","data","window","location","href","catch","updatedUser","method","headers","body","JSON","stringify","NextPageArrow","target","label","onClick","arrow","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","TransportButton","onSelect","text","Transport","updateUser","needBus"],"mappings":"mGAAA,2CAgCeA,IA3BF,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAElBC,EADWC,cACSC,WAAaL,EACjCM,EAAiBC,IAAOC,MAAK,SAAAC,GACjC,OAAOA,EAAMC,OAASV,KAGpBW,OAAeC,EAQnB,OANIN,IACFK,EAAe,WACbL,EAAeO,UAAUC,YAK3B,kBAAC,IAAD,CACEd,GAAIA,EACJW,aAAcA,EACdI,UAAS,eAAUZ,EAAW,WAAa,KAE3C,uBAAGY,UAAU,kBAAkBd,GAC/B,uBAAGc,UAAU,mBAAmBb,M,gCC3BtC,6CAwBec,IApBA,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC1B,OACE,oCACE,yBAAKH,UAAU,UACb,yBAAKI,IAAI,OAAOC,IAAKC,IAAMN,UAAU,kBAEvC,yBAAKA,UAAU,mBACdE,EACAC,EAAW,KACV,yBAAKH,UAAU,UACb,kBAAC,IAAD,CAAMf,GAAG,IAAIC,KAAK,uBAAuBC,MAAM,WAC/C,kBAAC,IAAD,CAAMF,GAAG,SAASC,KAAK,2BAA2BC,MAAM,eACxD,kBAAC,IAAD,CAAMF,GAAG,aAAaC,KAAK,iBAAiBC,MAAM,cAClD,kBAAC,IAAD,CAAMF,GAAG,QAAQC,KAAK,QAAQC,MAAM,kB,mBCjB9CoB,EAAOC,QAAU,IAA0B,kC,iECuD5BC,IAlDQ,WAAO,IAAD,EACaC,qBAAWC,KAA3CC,EADmB,EACnBA,aAAcC,EADK,EACLA,KAAMC,EADD,EACCA,QACtBC,EAAUC,cAFW,EAGGC,oBAAS,GAHZ,mBAGpBC,EAHoB,KAGXC,EAHW,KA+C3B,OA5BAC,qBAAU,WACJP,IAIJM,GAAW,GACXE,MAAM,0BAA4BT,GAC/BU,MAAK,SAAAC,GACJ,OAAIA,IAAaA,EAASC,WACjBD,EAASE,OAGdF,EAASC,YACXT,EAAQW,KAAKH,EAASI,KACf,WAFT,KAKDL,MAAK,SAAAM,GACAA,GAAQA,EAAKf,MACfC,EAAQc,EAAKf,MACbM,GAAW,IACFS,EAAKJ,aACdK,OAAOC,SAASC,KAAOH,EAAKD,QAG/BK,WACF,CAACpB,EAAcC,EAAMC,EAASC,IAE1B,CAACF,EAAMK,EA1CK,SAAAe,GACjBnB,EAAQmB,GACRZ,MAAM,aAAc,CAClBa,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnB1B,eACAC,KAAMoB,U,gCCnBd,6CAaeM,IATO,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QACtC,OACE,kBAAC,IAAD,CAAMzD,GAAIuD,EAAQE,QAASA,EAAS1C,UAAU,uBAC5C,8BAAOyC,GACP,yBAAKpC,IAAKsC,IAAOvC,IAAI,kB,mBCR3BG,EAAOC,QAAU,IAA0B,mC,gCCA5B,SAASoC,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAK9B,KAAKoC,MAAMN,EAAME,GAGxB,OAAOF,EAGM,SAASO,EAAevB,GACrC,IAAK,IAAIwB,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNX,EAAQL,OAAOmB,IAAS,GAAMC,SAAQ,SAAUtB,GAC9C,EAAeN,EAAQM,EAAKqB,EAAOrB,OAE5BE,OAAOqB,0BAChBrB,OAAOsB,iBAAiB9B,EAAQQ,OAAOqB,0BAA0BF,IAEjEd,EAAQL,OAAOmB,IAASC,SAAQ,SAAUtB,GACxCE,OAAOC,eAAeT,EAAQM,EAAKE,OAAOa,yBAAyBM,EAAQrB,OAKjF,OAAON,EAjCT,mC,0GCMM+B,EAAkB,SAAC,GAAD,IAAGnF,EAAH,EAAGA,SAAUoF,EAAb,EAAaA,SAAUC,EAAvB,EAAuBA,KAAMvF,EAA7B,EAA6BA,KAA7B,OACtB,4BACEc,UAAS,yBAAoBZ,EAAW,YAAc,IACtDsD,QAAS8B,GAET,uBAAGxE,UAAU,kBAAkBd,GAC/B,2BAAIuF,GACHrF,EACC,uBAAGY,UAAU,yCAAb,gBACE,OAqDO0E,UAjDG,WAAO,IAAD,EACcjE,cADd,mBACfI,EADe,KACTK,EADS,KACAyD,EADA,KAGtB,OACE,kBAAC,IAAD,KACE,yBAAK3E,UAAU,gBACb,yBAAKA,UAAU,yBAAf,sFAIA,yBAAKA,UAAU,yBAAf,mFAIDkB,IAAYL,EACX,yBAAKb,UAAU,aACb,kBAAC,IAAD,OAGF,yBAAKA,UAAU,wBACb,kBAACuE,EAAD,CACEnF,SAAUyB,EAAK+D,QACfJ,SAAU,WACRG,EAAW,eACN9D,EADK,CAER+D,SAAS,MAGbH,KAAK,qBACLvF,KAAK,mBAEP,kBAACqF,EAAD,CACEnF,UAAWyB,EAAK+D,QAChBJ,SAAU,WACRG,EAAW,eACN9D,EADK,CAER+D,SAAS,MAGbH,KAAK,sBACLvF,KAAK,oBAIX,kBAAC,IAAD,CAAesD,OAAO,QAAQC,MAAM","file":"static/js/5.fd031e4c.chunk.js","sourcesContent":["import React from 'react'\nimport { Link as RouterLink, useLocation } from 'react-router-dom'\n\nimport routes from '../routes'\n\nconst Link = ({ to, icon, title }) => {\n  const location = useLocation()\n  const selected = location.pathname === to\n  const routeToPreload = routes.find(route => {\n    return route.path === to\n  })\n\n  let onMouseEnter = undefined\n\n  if (routeToPreload) {\n    onMouseEnter = () => {\n      routeToPreload.component.preload()\n    }\n  }\n\n  return (\n    <RouterLink\n      to={to}\n      onMouseEnter={onMouseEnter}\n      className={`Link ${selected ? 'selected' : ''}`}\n    >\n      <i className=\"material-icons\">{icon}</i>\n      <b className=\"Link--linkTitle\">{title}</b>\n    </RouterLink>\n  )\n}\n\nexport default Link\n","import React from 'react'\nimport logo from '../../assets/logo.svg'\nimport Link from './Link'\n\nconst Layout = ({ children, noFooter }) => {\n  return (\n    <>\n      <div className=\"Header\">\n        <img alt=\"Logo\" src={logo} className=\"Header--logo\" />\n      </div>\n      <div className=\"Header--padder\" />\n      {children}\n      {noFooter ? null : (\n        <div className=\"Footer\">\n          <Link to=\"/\" icon=\"assignment_turned_in\" title=\"Statut\" />\n          <Link to=\"/guest\" icon=\"sentiment_very_satisfied\" title=\"Invités\" />\n          <Link to=\"/transport\" icon=\"directions_car\" title=\"Transport\" />\n          <Link to=\"/beds\" icon=\"hotel\" title=\"Sur Place\" />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Layout\n","module.exports = __webpack_public_path__ + \"static/media/logo.75a7e9e1.svg\";","import { useState, useEffect, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport JwtContext from '../JwtContext'\n\n// Return [ User, Loading, Error ]\nconst useCurrentUser = () => {\n  const { jsonWebToken, user, setUser } = useContext(JwtContext)\n  const history = useHistory()\n  const [loading, setLoading] = useState(false)\n\n  const updateUser = updatedUser => {\n    setUser(updatedUser)\n    fetch('/users/me/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        jsonWebToken,\n        user: updatedUser\n      })\n    })\n  }\n\n  useEffect(() => {\n    if (user) {\n      return\n    }\n\n    setLoading(true)\n    fetch('/users/me?jsonWebToken=' + jsonWebToken)\n      .then(response => {\n        if (response && !response.redirected) {\n          return response.json()\n        }\n\n        if (response.redirected) {\n          history.push(response.url)\n          return null\n        }\n      })\n      .then(data => {\n        if (data && data.user) {\n          setUser(data.user)\n          setLoading(false)\n        } else if (data.redirected) {\n          window.location.href = data.url\n        }\n      })\n      .catch()\n  }, [jsonWebToken, user, setUser, history])\n\n  return [user, loading, updateUser]\n}\n\nexport default useCurrentUser\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport arrow from '../../assets/arrow.svg'\n\nconst NextPageArrow = ({ target, label, onClick }) => {\n  return (\n    <Link to={target} onClick={onClick} className=\"NextPageArrow__link\">\n      <span>{label}</span>\n      <img src={arrow} alt=\"Arrow Icon\" />\n    </Link>\n  )\n}\n\nexport default NextPageArrow\n","module.exports = __webpack_public_path__ + \"static/media/arrow.aeb9504d.svg\";","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react'\nimport Layout from '../components/Layout'\nimport { SimpleLoader } from '../components/Loader'\nimport NextPageArrow from '../components/NextPageArrow'\nimport useCurrentUser from '../hooks/useCurrentUser'\n\nconst TransportButton = ({ selected, onSelect, text, icon }) => (\n  <button\n    className={`TransportButton${selected ? ' selected' : ''}`}\n    onClick={onSelect}\n  >\n    <i className=\"material-icons\">{icon}</i>\n    <p>{text}</p>\n    {selected ? (\n      <i className=\"material-icons TransportButton__check\">check_circle</i>\n    ) : null}\n  </button>\n)\n\nconst Transport = () => {\n  const [user, loading, updateUser] = useCurrentUser()\n\n  return (\n    <Layout>\n      <div className=\"Guest__intro\">\n        <div className=\"Guest__intro--heading\">\n          Nous souhaitons organiser un bus au départ de Paris pour ceux qui le\n          souhaitent\n        </div>\n        <div className=\"Guest__intro--content\">\n          Dis nous si tu es intéressé pour venir en bus avec les autres invités\n        </div>\n      </div>\n      {loading || !user ? (\n        <div className=\"HomeEmpty\">\n          <SimpleLoader />\n        </div>\n      ) : (\n        <div className=\"Transport__container\">\n          <TransportButton\n            selected={user.needBus}\n            onSelect={() => {\n              updateUser({\n                ...user,\n                needBus: true\n              })\n            }}\n            text=\"Trop bien le bus !\"\n            icon=\"directions_bus\"\n          />\n          <TransportButton\n            selected={!user.needBus}\n            onSelect={() => {\n              updateUser({\n                ...user,\n                needBus: false\n              })\n            }}\n            text=\"Je me débrouille\"\n            icon=\"directions_car\"\n          />\n        </div>\n      )}\n      <NextPageArrow target=\"/beds\" label=\"Et sur place&nbsp;?\" />\n    </Layout>\n  )\n}\n\nexport default Transport\n"],"sourceRoot":""}