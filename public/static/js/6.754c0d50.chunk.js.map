{"version":3,"sources":["js/components/Layout.js","assets/logo.svg","js/pages/Admin.js"],"names":["FooterLink","to","icon","title","selected","useLocation","pathname","routeToPreload","routes","find","route","path","onMouseEnter","undefined","component","preload","className","Layout","children","noFooter","alt","src","logo","module","exports","PasswordInput","password","setPassword","triggerSearch","type","value","onChange","ev","target","onKeyUp","keyCode","UsersDisplay","users","map","user","email","hasUpdatedInfos","needBus","mealPref","peoples","people","name","attending","Admin","useState","setUsers","useCallback","fetch","method","headers","body","JSON","stringify","superSecret","then","response","json","data"],"mappings":"mGAAA,4DAMMA,EAAa,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAExBC,EADWC,cACSC,WAAaL,EACjCM,EAAiBC,IAAOC,MAAK,SAAAC,GACjC,OAAOA,EAAMC,OAASV,KAGpBW,OAAeC,EAQnB,OANIN,IACFK,EAAe,WACbL,EAAeO,UAAUC,YAK3B,kBAAC,IAAD,CACEd,GAAIA,EACJW,aAAcA,EACdI,UAAS,uBAAkBZ,EAAW,WAAa,KAEnD,uBAAGY,UAAU,kBAAkBd,GAC/B,uBAAGc,UAAU,qBAAqBb,KA6BzBc,IAxBA,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC1B,OACE,oCACE,yBAAKH,UAAU,UACb,yBAAKI,IAAI,OAAOC,IAAKC,IAAMN,UAAU,kBAEvC,yBAAKA,UAAU,mBACdE,EACAC,EAAW,KACV,yBAAKH,UAAU,UACb,kBAAChB,EAAD,CAAYC,GAAG,IAAIC,KAAK,uBAAuBC,MAAM,WACrD,kBAACH,EAAD,CACEC,GAAG,SACHC,KAAK,2BACLC,MAAM,eAER,kBAACH,EAAD,CAAYC,GAAG,aAAaC,KAAK,iBAAiBC,MAAM,cACxD,kBAACH,EAAD,CAAYC,GAAG,QAAQC,KAAK,QAAQC,MAAM,kB,mBClDpDoB,EAAOC,QAAU,IAA0B,kC,+FCIrCC,G,MAAgB,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,cAI7C,OACE,yBAAKZ,UAAU,mBACb,2BAAOa,KAAK,WAAWC,MAAOJ,EAAUK,SALvB,SAAAC,GAAE,OAAIL,EAAYK,EAAGC,OAAOH,QAKmBI,QAJhD,SAAAF,GAAE,OAAmB,KAAfA,EAAGG,SAAkBP,UAS3CQ,EAAe,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACrB,OAAKA,EAKH,yBAAKrB,UAAU,yBAEXqB,EAAMC,KAAI,SAACC,GACT,OACE,yBAAKvB,UAAU,eACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,mBACZuB,EAAKC,QAGV,yBAAKxB,UAAU,mBACb,yBAAKA,UAAU,mBAAf,gBAGA,yBAAKA,UAAU,mBACZuB,EAAKE,gBAAkB,MAAQ,QAGpC,yBAAKzB,UAAU,mBACb,yBAAKA,UAAU,mBAAf,SAGA,yBAAKA,UAAU,mBACZuB,EAAKG,QAAU,MAAQ,QAG5B,yBAAK1B,UAAU,mBACb,yBAAKA,UAAU,mBACZuB,EAAKI,WAIRJ,EAAKK,SAAWL,EAAKK,QAAQN,KAAI,SAACO,GAAD,OAC/B,yBAAK7B,UAAU,mBACb,yBAAKA,UAAU,mBACZ6B,EAAOC,MAEV,yBAAK9B,UAAU,mBACZ6B,EAAOE,oBA1CnB,MAuFIC,UAhCD,WAAO,IAAD,EACUC,mBAAS,MADnB,mBACVZ,EADU,KACHa,EADG,OAEgBD,mBAAS,IAFzB,mBAEVvB,EAFU,KAEAC,EAFA,KAIZC,EAAgBuB,uBAAY,WAChCxB,EAAY,IACZyB,MAAM,cAAe,CACnBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,YAAahC,MAGhBiC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLZ,EAASY,QAEV,CAACpC,IAEJ,OACE,kBAAC,IAAD,CAAQP,UAAQ,GAEZkB,EACE,kBAACD,EAAD,CAAcC,MAAOA,IACrB,kBAACZ,EAAD,CAAeC,SAAUA,EAAUC,YAAaA,EAAaC,cAAeA","file":"static/js/6.754c0d50.chunk.js","sourcesContent":["import React from 'react'\nimport logo from '../../assets/logo.svg'\nimport { Link, useLocation } from 'react-router-dom'\n\nimport routes from '../routes'\n\nconst FooterLink = ({ to, icon, title }) => {\n  const location = useLocation()\n  const selected = location.pathname === to\n  const routeToPreload = routes.find(route => {\n    return route.path === to\n  })\n\n  let onMouseEnter = undefined\n\n  if (routeToPreload) {\n    onMouseEnter = () => {\n      routeToPreload.component.preload()\n    }\n  }\n\n  return (\n    <Link\n      to={to}\n      onMouseEnter={onMouseEnter}\n      className={`Footer--link ${selected ? 'selected' : ''}`}\n    >\n      <i className=\"material-icons\">{icon}</i>\n      <b className=\"Footer--linkTitle\">{title}</b>\n    </Link>\n  )\n}\n\nconst Layout = ({ children, noFooter }) => {\n  return (\n    <>\n      <div className=\"Header\">\n        <img alt=\"Logo\" src={logo} className=\"Header--logo\" />\n      </div>\n      <div className=\"Header--padder\" />\n      {children}\n      {noFooter ? null : (\n        <div className=\"Footer\">\n          <FooterLink to=\"/\" icon=\"assignment_turned_in\" title=\"Statut\" />\n          <FooterLink\n            to=\"/guest\"\n            icon=\"sentiment_very_satisfied\"\n            title=\"Invités\"\n          />\n          <FooterLink to=\"/transport\" icon=\"directions_car\" title=\"Transport\" />\n          <FooterLink to=\"/beds\" icon=\"hotel\" title=\"Sur Place\" />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Layout\n","module.exports = __webpack_public_path__ + \"static/media/logo.75a7e9e1.svg\";","import React, { useState, useEffect, useCallback } from 'react'\nimport Layout from '../components/Layout'\nimport 'sass/admin.scss'\n\nconst PasswordInput = ({password, setPassword, triggerSearch}) => {\n  const handleChange = ev => setPassword(ev.target.value)\n  const handleKeyUp = ev => ev.keyCode === 13 && triggerSearch()\n\n  return (\n    <div className=\"Admin__password\">\n      <input type=\"password\" value={password} onChange={handleChange} onKeyUp={handleKeyUp} />\n    </div>\n  )\n}\n\nconst UsersDisplay = ({users}) => {\n  if (!users) {\n    return null\n  }\n\n  return (\n    <div className=\"Admin__usersContainer\">\n      {\n        users.map((user) => {\n          return (\n            <div className=\"Admin__user\">\n              <div className=\"Admin__userLine\">\n                <div className=\"Admin__userData\">\n                  {user.email}\n                </div>\n              </div>\n              <div className=\"Admin__userLine\">\n                <div className=\"Admin__userData\">\n                  A répondu\n                </div>\n                <div className=\"Admin__userData\">\n                  {user.hasUpdatedInfos ? 'Oui' : 'Non'}\n                </div>\n              </div>\n              <div className=\"Admin__userLine\">\n                <div className=\"Admin__userData\">\n                  Bus ?\n                </div>\n                <div className=\"Admin__userData\">\n                  {user.needBus ? 'Oui' : 'Non'}\n                </div>\n              </div>\n              <div className=\"Admin__userLine\">\n                <div className=\"Admin__userData\">\n                  {user.mealPref}\n                </div>\n              </div>\n              {\n                user.peoples && user.peoples.map((people) => (\n                  <div className=\"Admin__userLine\">\n                    <div className=\"Admin__userData\">\n                      {people.name}\n                    </div>\n                    <div className=\"Admin__userData\">\n                      {people.attending}\n                    </div>\n                  </div>\n                ))\n              }\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\n\nconst Admin = () => {\n  const [ users, setUsers ] = useState(null)\n  const [ password, setPassword ] = useState('')\n\n  const triggerSearch = useCallback(() => {\n    setPassword('')\n    fetch('/users/all/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        superSecret: password\n      })\n    })\n    .then((response) => response.json())\n    .then((data) => {\n      setUsers(data)\n    })\n  }, [password])\n\n  return (\n    <Layout noFooter>\n      {\n        users\n        ? <UsersDisplay users={users} />\n        : <PasswordInput password={password} setPassword={setPassword} triggerSearch={triggerSearch} />\n      }\n    </Layout>\n  )\n}\n\nexport default Admin\n"],"sourceRoot":""}