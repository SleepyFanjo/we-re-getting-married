{"version":3,"sources":["js/components/Link.js","js/components/Layout.js","assets/logo.svg","js/pages/Admin.js"],"names":["Link","to","icon","title","selected","useLocation","pathname","routeToPreload","routes","find","route","path","onMouseEnter","undefined","component","preload","className","Layout","children","noFooter","alt","src","logo","module","exports","PasswordInput","password","setPassword","triggerSearch","type","value","onChange","ev","target","onKeyUp","keyCode","UsersDisplay","users","map","user","email","hasUpdatedInfos","needBus","mealPref","peoples","people","name","attending","Admin","useState","setUsers","useCallback","fetch","method","headers","body","JSON","stringify","superSecret","then","response","json","data"],"mappings":"mGAAA,2CAgCeA,IA3BF,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAElBC,EADWC,cACSC,WAAaL,EACjCM,EAAiBC,IAAOC,MAAK,SAAAC,GACjC,OAAOA,EAAMC,OAASV,KAGpBW,OAAeC,EAQnB,OANIN,IACFK,EAAe,WACbL,EAAeO,UAAUC,YAK3B,kBAAC,IAAD,CACEd,GAAIA,EACJW,aAAcA,EACdI,UAAS,eAAUZ,EAAW,WAAa,KAE3C,uBAAGY,UAAU,kBAAkBd,GAC/B,uBAAGc,UAAU,mBAAmBb,M,gCC3BtC,6CAwBec,IApBA,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC1B,OACE,oCACE,yBAAKH,UAAU,UACb,yBAAKI,IAAI,OAAOC,IAAKC,IAAMN,UAAU,kBAEvC,yBAAKA,UAAU,mBACdE,EACAC,EAAW,KACV,yBAAKH,UAAU,UACb,kBAAC,IAAD,CAAMf,GAAG,IAAIC,KAAK,uBAAuBC,MAAM,WAC/C,kBAAC,IAAD,CAAMF,GAAG,SAASC,KAAK,2BAA2BC,MAAM,eACxD,kBAAC,IAAD,CAAMF,GAAG,aAAaC,KAAK,iBAAiBC,MAAM,cAClD,kBAAC,IAAD,CAAMF,GAAG,QAAQC,KAAK,QAAQC,MAAM,kB,mBCjB9CoB,EAAOC,QAAU,IAA0B,kC,+FCIrCC,G,MAAgB,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,SAAUC,EAAiC,EAAjCA,YAAaC,EAAoB,EAApBA,cAI9C,OACE,yBAAKZ,UAAU,mBACb,2BACEa,KAAK,WACLC,MAAOJ,EACPK,SARe,SAAAC,GAAE,OAAIL,EAAYK,EAAGC,OAAOH,QAS3CI,QARc,SAAAF,GAAE,OAAmB,KAAfA,EAAGG,SAAkBP,UAc3CQ,EAAe,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACtB,OAAKA,EAKH,yBAAKrB,UAAU,yBACZqB,EAAMC,KAAI,SAAAC,GACT,OACE,yBAAKvB,UAAU,eACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,mBAAmBuB,EAAKC,QAEzC,yBAAKxB,UAAU,mBACb,yBAAKA,UAAU,mBAAf,gBACA,yBAAKA,UAAU,mBACZuB,EAAKE,gBAAkB,MAAQ,QAGpC,yBAAKzB,UAAU,mBACb,yBAAKA,UAAU,mBAAf,SACA,yBAAKA,UAAU,mBACZuB,EAAKG,QAAU,MAAQ,QAG5B,yBAAK1B,UAAU,mBACb,yBAAKA,UAAU,mBAAmBuB,EAAKI,WAExCJ,EAAKK,SACJL,EAAKK,QAAQN,KAAI,SAAAO,GAAM,OACrB,yBAAK7B,UAAU,mBACb,yBAAKA,UAAU,mBAAmB6B,EAAOC,MACzC,yBAAK9B,UAAU,mBAAmB6B,EAAOE,oBA9BhD,MA4EIC,UApCD,WAAO,IAAD,EACQC,mBAAS,MADjB,mBACXZ,EADW,KACJa,EADI,OAEcD,mBAAS,IAFvB,mBAEXvB,EAFW,KAEDC,EAFC,KAIZC,EAAgBuB,uBAAY,WAChCxB,EAAY,IACZyB,MAAM,cAAe,CACnBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,YAAahC,MAGdiC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJZ,EAASY,QAEZ,CAACpC,IAEJ,OACE,kBAAC,IAAD,CAAQP,UAAQ,GACbkB,EACC,kBAACD,EAAD,CAAcC,MAAOA,IAErB,kBAACZ,EAAD,CACEC,SAAUA,EACVC,YAAaA,EACbC,cAAeA","file":"static/js/6.8bf3e30c.chunk.js","sourcesContent":["import React from 'react'\nimport { Link as RouterLink, useLocation } from 'react-router-dom'\n\nimport routes from '../routes'\n\nconst Link = ({ to, icon, title }) => {\n  const location = useLocation()\n  const selected = location.pathname === to\n  const routeToPreload = routes.find(route => {\n    return route.path === to\n  })\n\n  let onMouseEnter = undefined\n\n  if (routeToPreload) {\n    onMouseEnter = () => {\n      routeToPreload.component.preload()\n    }\n  }\n\n  return (\n    <RouterLink\n      to={to}\n      onMouseEnter={onMouseEnter}\n      className={`Link ${selected ? 'selected' : ''}`}\n    >\n      <i className=\"material-icons\">{icon}</i>\n      <b className=\"Link--linkTitle\">{title}</b>\n    </RouterLink>\n  )\n}\n\nexport default Link\n","import React from 'react'\nimport logo from '../../assets/logo.svg'\nimport Link from './Link'\n\nconst Layout = ({ children, noFooter }) => {\n  return (\n    <>\n      <div className=\"Header\">\n        <img alt=\"Logo\" src={logo} className=\"Header--logo\" />\n      </div>\n      <div className=\"Header--padder\" />\n      {children}\n      {noFooter ? null : (\n        <div className=\"Footer\">\n          <Link to=\"/\" icon=\"assignment_turned_in\" title=\"Statut\" />\n          <Link to=\"/guest\" icon=\"sentiment_very_satisfied\" title=\"Invités\" />\n          <Link to=\"/transport\" icon=\"directions_car\" title=\"Transport\" />\n          <Link to=\"/beds\" icon=\"hotel\" title=\"Sur Place\" />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Layout\n","module.exports = __webpack_public_path__ + \"static/media/logo.75a7e9e1.svg\";","import React, { useState, useCallback } from 'react'\nimport Layout from '../components/Layout'\nimport 'sass/admin.scss'\n\nconst PasswordInput = ({ password, setPassword, triggerSearch }) => {\n  const handleChange = ev => setPassword(ev.target.value)\n  const handleKeyUp = ev => ev.keyCode === 13 && triggerSearch()\n\n  return (\n    <div className=\"Admin__password\">\n      <input\n        type=\"password\"\n        value={password}\n        onChange={handleChange}\n        onKeyUp={handleKeyUp}\n      />\n    </div>\n  )\n}\n\nconst UsersDisplay = ({ users }) => {\n  if (!users) {\n    return null\n  }\n\n  return (\n    <div className=\"Admin__usersContainer\">\n      {users.map(user => {\n        return (\n          <div className=\"Admin__user\">\n            <div className=\"Admin__userLine\">\n              <div className=\"Admin__userData\">{user.email}</div>\n            </div>\n            <div className=\"Admin__userLine\">\n              <div className=\"Admin__userData\">A répondu</div>\n              <div className=\"Admin__userData\">\n                {user.hasUpdatedInfos ? 'Oui' : 'Non'}\n              </div>\n            </div>\n            <div className=\"Admin__userLine\">\n              <div className=\"Admin__userData\">Bus ?</div>\n              <div className=\"Admin__userData\">\n                {user.needBus ? 'Oui' : 'Non'}\n              </div>\n            </div>\n            <div className=\"Admin__userLine\">\n              <div className=\"Admin__userData\">{user.mealPref}</div>\n            </div>\n            {user.peoples &&\n              user.peoples.map(people => (\n                <div className=\"Admin__userLine\">\n                  <div className=\"Admin__userData\">{people.name}</div>\n                  <div className=\"Admin__userData\">{people.attending}</div>\n                </div>\n              ))}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nconst Admin = () => {\n  const [users, setUsers] = useState(null)\n  const [password, setPassword] = useState('')\n\n  const triggerSearch = useCallback(() => {\n    setPassword('')\n    fetch('/users/all/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        superSecret: password\n      })\n    })\n      .then(response => response.json())\n      .then(data => {\n        setUsers(data)\n      })\n  }, [password])\n\n  return (\n    <Layout noFooter>\n      {users ? (\n        <UsersDisplay users={users} />\n      ) : (\n        <PasswordInput\n          password={password}\n          setPassword={setPassword}\n          triggerSearch={triggerSearch}\n        />\n      )}\n    </Layout>\n  )\n}\n\nexport default Admin\n"],"sourceRoot":""}